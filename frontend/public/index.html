<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta name="theme-color" content="#3b82f6" />
    <meta name="description" content="Guest Manager - Manage your guest list efficiently" />
    
    <!-- Fix for Apple devices -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    
    <!-- Local app icons -->
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    
    <!-- Script to generate icons if missing -->
    <script src="%PUBLIC_URL%/generateIcons.js"></script>
    
    <!--
      manifest.json provides metadata used when your web app is installed on a
      user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
    -->
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    
    <!-- Fix for analytics -->
    <script>
      // Create a dummy gtag function if it doesn't exist to prevent errors
      window.dataLayer = window.dataLayer || [];
      window.gtag = window.gtag || function() {
        try {
          window.dataLayer.push(arguments);
        } catch (e) {
          console.warn('Analytics error:', e);
        }
      };
      
      // Error handling for third-party scripts
      window.addEventListener('error', function(e) {
        // Ignore errors from third-party scripts like Google Analytics
        if (e.filename && (
          e.filename.includes('google-analytics') || 
          e.filename.includes('googletagmanager') || 
          e.filename.includes('analytics') ||
          e.filename.includes('bhaujanvypar.com')
        )) {
          e.stopImmediatePropagation();
          e.preventDefault();
          console.log('Prevented error from:', e.filename);
          return false;
        }
      }, true);
    </script>
    
    <title>Guest Manager</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <!--
      This HTML file is a template.
      If you open it directly in the browser, you will see an empty page.

      You can add webfonts, meta tags, or analytics to this file.
      The build step will place the bundled scripts into the <body> tag.

      To begin the development, run `npm start` or `yarn start`.
      To create a production bundle, use `npm run build` or `yarn build`.
    -->
    <script src="%PUBLIC_URL%/errorRecovery.js"></script>
  </body>
</html>
